<!-- im doing this on my phone lol -->
<style id="predefined"></style>
<html></html>
<script>
var href=decodeURIComponent(window.location.href),h=document.querySelector("html")
function wheninput(){var is="https://williek11.github.io/htmlpreview.html?"+document.querySelector("#html").value;var link=document.querySelector("#link");link.innerHTML=is;link.href=is}
if(href.includes("?")){
  
  var txt=href.substr(href.indexOf("?",43)+1,href.length)
  var html=txt
  
  if(txt.includes("type:")){
     var val=txt.indexOf("type:",0)+5;
     var pre=document.getElementById("predefined")
     var str=txt.substr(val-5,txt.indexOf(":",6)-val+6)
     var types=str.replace("type:","").replace(":","").split("&")
     var cssAdd=(css)=>{pre.innerHTML+=css}
     for(var i=0;i<types.length;i++) {
       switch (types[i]) {
         case "fonts":cssAdd("html{font-family:Arial, Verdana, Tahoma, Trebuchet MS}");break
         case "clean":cssAdd("html,body{padding:0;margin:0}");break
         case "styleless":cssAdd("*{margin:0;padding:0;border:0;background:0;width:unset;height:unset}");break
         case "edit":
           html=`<textarea oninput="wheninput()" style="width:calc(100% - 40px);height:400px;resize:none;padding:20px" id="html">${txt}</textarea><a id="link" href="${href}">${href}</a>`
           break
       }
     }
    html=html.replace(str,"")
  }
  
  /*if(txt.includes("<html ")){
    var atrs=[],quotation=[];
    var tagIndex=txt.indexOf("<html ",0)+5
    var search=txt.substr(tagIndex,txt.indexOf(">",tagIndex)-tagIndex)
    for(var i=0,initial=true,l=search.length;i<l;i++){var s=search[i];if(s==="'"||s===`"`||s==="`"){
      var arr=[];
      arr[0]=i
      if(initial){arr[1]=true;initial=false}else{arr[1]=false;initial=true}
      quotation.push(arr)
    }}
    for(var i=0;i<quotation.length;i++){if(i!==1){
    
    }}
    txt=quotation
  }*/
  h.innerHTML=html
}
else{h.innerHTML="Hello! This is a test website. Insert ? at the end of the link and you can put HTML code afterwards!"}
</script>
