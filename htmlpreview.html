<html>
<head>
   <style id="predefined"></style>
</head>
<body>
<script>
var href=decodeURIComponent(window.location.href),h=document.body,getId=function(i){return document.getElementById(i)};
function wheninput(){var is="https://williek11.github.io/htmlpreview.html?"+getId("code").value;var link=getId("link");link.innerText=is;link.href=is}
if(href.includes("?")){
  
  var txt=href.substr(href.indexOf("?",43)+1,href.length)
  var html=txt
  
  if(txt.includes("type:")){
     var val=txt.indexOf("type:",0)+5;
     var pre=getId("predefined")
     var str=txt.substr(val-5,txt.indexOf(":",6)-val+6)
     var types=str.replace("type:","").replace(":","").split("&")
     var cssAdd=(css)=>{pre.innerHTML+=css}
     for(var i=0;i<types.length;i++) {
       switch (types[i]) {
         case "fonts":cssAdd("html{font-family:Arial, Verdana, Tahoma, Trebuchet MS}");break
         case "clean":cssAdd("html,body{padding:0;margin:0}");break
         case "styleless":cssAdd("*{margin:0;padding:0;border:0;background:0;width:unset;height:unset}");break
         case "edit":
           cssAdd("@import url('https://fonts.googleapis.com/css2?family=Rowdies:wght@300&display=swap');")
           html=`<textarea oninput="wheninput()" style="color:#888;font-family:Rowdies;font-weight: 100;margin-bottom: 10px;border:#0006 2px solid;border-radius:5px;box-shadow:0 5px #0005;width:calc(100% - 44px);height:400px;resize:none;padding:20px" id="code">${txt}</textarea><a id="link" style="display:block;word-wrap: break-word;width:100%"></a>`
           break
       }
     }
    html=html.replace(str,"")
  }
  /*if(txt.includes("<html ")){
    var atrs=[],quotation=[];
    var tagIndex=txt.indexOf("<html ",0)+5
    var search=txt.substr(tagIndex,txt.indexOf(">",tagIndex)-tagIndex)
    for(var i=0,initial=true,l=search.length;i<l;i++){var s=search[i];if(s==="'"||s===`"`||s==="`"){
      var arr=[];
      arr[0]=i
      if(initial){arr[1]=true;initial=false}else{arr[1]=false;initial=true}
      quotation.push(arr)
    }}
    for(var i=0;i<quotation.length;i++){if(i!==1){
    
    }}
    txt=quotation
  }*/
  h.innerHTML=html
}
else{h.innerHTML="Hello! This is a test website. Insert ? at the end of the link and you can put HTML code afterwards!"}
</script>
</body>
</html>
